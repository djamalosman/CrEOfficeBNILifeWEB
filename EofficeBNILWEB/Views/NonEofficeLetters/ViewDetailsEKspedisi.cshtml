@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer localiza
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor Accessor
@{
    var sessidUser = Accessor.HttpContext.Session.GetString("idUser");
    var sessidUnit = Accessor.HttpContext.Session.GetString("idUnit");
    var en = Accessor.HttpContext.Session.GetString("en");
    var ina = Accessor.HttpContext.Session.GetString("ina");

}
<!-- begin::Body -->
<div class="m-grid__item m-grid__item--fluid m-grid m-grid--hor-desktop m-grid--desktop m-body">
    <div class="m-grid__item m-grid__item--fluid  m-grid m-grid--ver    m-container m-container--responsive m-container--xxl m-page__container">
        <div class="m-grid__item m-grid__item--fluid m-wrapper">
            <!-- BEGIN: Subheader -->
            <div class="m-subheader ">
                <div class="d-flex align-items-center">
                    <div class="mr-auto" style="color: white;">
                        <h3 class="m-subheader__title m-subheader__title--separator" style="color: white;">
                            @(en != null ? "REPORT DETAILS OF NON E-OFFICE DOCUMENTS" : "LAPORAN DETAIL DOKUMEN NON E-OFFICE")
                        </h3>
                        <ul class="m-subheader__breadcrumbs m-nav m-nav--inline">
                            <li class="m-nav__item m-nav__item--home">
                                <a href="#" class="m-nav__link m-nav__link--icon">
                                    <i class="m-nav__link-icon la la-home" style="color: white;"></i>
                                </a>
                            </li>
                            <li class="m-nav__separator" style="color: white;">
                                -
                            </li>
                            <li class="m-nav__item">
                                <a href="" class="m-nav__link">
                                    <span class="m-nav__link-text" style="color: white;">
                                        @(en != null ? "Other" : "Lainya")
                                    </span>
                                </a>
                            </li>
                            <li class="m-nav__separator" style="color: white;">
                                -
                            </li>
                            <li class="m-nav__item">
                                <a href="" class="m-nav__link">
                                    <span class="m-nav__link-text" style="color: white;">
                                        @(en != null ? "REPORT DETAILS OF NON E-OFFICE DOCUMENTS" : "LAPORAN DETAIL DOKUMEN NON E-OFFICE")
                                    </span>
                                </a>
                            </li>
                            <li class="m-nav__separator" style="color: white;">
                                -
                            </li>
                            <li class="m-nav__item">
                                <a href="" class="m-nav__link">
                                    <span class="m-nav__link-text" style="color: white;">
                                        @(en != null ? "EXPEDITION DETAILS" : "DETAIL EKSPEDISI")
                                    </span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- END: Subheader -->
            <div class="m-content" style="padding: 30px 30px !important;">
                <!--Begin::Main Portlet-->
                @*<div class="m-portlet m-portlet--full-height ">
                    <div class="m-portlet__head">
                        <div class="m-portlet__head-caption">
                            <h5>@(en != null ? "Mailing Room Admin Settings" : "Setting Admin Mailing Room")</h5>
                        </div>
                    </div>
                    <div class="m-portlet__body">
                        <form asp-action="GetDetailViewEKspedisiList" asp-controller="NonEofficeLetters" method="post">
                            <div class="form-group row">
                                <label for="inputEmail3" class="col-sm-1 col-form-label">&nbsp;@(en != null ? "Start Date" : "Tanggal Awal")</label>
                                <div class="col-sm-4">
                                    <input type="text" class="form-control" id="m_datepicker_1" name="startDate" onchange="myChangeFunction2(this)">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="inputEmail3" class="col-sm-1 col-form-label">&nbsp;@(en != null ? "End Date" : "Tanggal Akhir")</label>
                                <div class="col-sm-4">
                                    <input type="text" class="form-control" id="m_datepicker_1" name="endDate" onchange="myChangeFunction3(this)">
                                </div>
                            </div>
                            
                            <input type="text" hidden class="form-control" id="datestart" name="startDate">
                            <input type="text" hidden class="form-control" id="dateend" name="endDate">
                            <div class="form-group row">
                                <label for="inputEmail3" class="col-form-label">&nbsp;</label>
                                <div class="col-sm-2">
                                    <button class="btn btn-primary" id="btncari">Submit</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>*@
                <div class="m-portlet m-portlet--full-height ">
                    <div class="m-portlet__head">
                        <div class="m-portlet__head-caption">
                           @* <h5>@(en != null ? "EXPEDITION DETAILS" : "DETAIL EKSPEDISI")</h5>*@
                            <a href="#" data-toggle="modal" data-target="#my-modal3" id="btncari" class="btn btn-primary btn-bold">
                                Export
                            </a>
                        </div>
                    </div>
                    <div class="m-portlet__body">

                        <div class="table-responsive">
                            <table id="myTable" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                                <thead>
                                    <tr>
                                        @if (@en == "en")
                                        {
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">No</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">No AWB / No Delivery</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Reference Number</th>
                                            <td style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">ReceiptDate</td>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Expedition Name</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Sender Name</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">NPP</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Division Name</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Division Code</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Letter Number</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Purpose Name</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Phone Number</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Adress</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Receiver Name</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Receiver Date</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Delivery Status</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Create By</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Update By</th>

                                        }
                                        else
                                        {
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">No</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">No AWB / No Pengiriman</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">"Nomor Refrensi</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Tanggal Pengiriman</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Nama Ekspedisi</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Nama Pengirim</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">NPP</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Divisi</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Kode Divsi</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Nomor Surat</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Nama Tujuan</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Nomor Telepon</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Alamat</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Nama Penerima</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Tanggal Penerima</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Status Pengiriman</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Dibuat oleh</th>
                                            <th style="padding-top: 10px;padding-bottom: 10px;padding-right: 18px;padding-left: 9px;">Diubah oleh</th>
                                        }
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                    <div class="modal fade" id="my-modal3" tabindex="-1" role="dialog" aria-labelledby="my-modal3" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="exampleModalLabel">
                                        Report</ h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                </div>
                                <div class="modal-body">
                                    <form method="post" name="form2" id="form2" asp-action="ReportEkspedisiNonEofficeByUser" asp-controller="NonEofficeLetters" target="_parent">
                                        <div class="form-group">
                                            <input type="text" hidden value="1" class="form-control" name="delivery_type" id="delivery_type">
                                            <input type="text" hidden value="1" class="form-control" name="trackingNumber" id="trackingNumber">
                                            <label for="inputEmail3" class="col-sm-3 col-form-label">&nbsp;@(en != null ? "Start Date" : "Tanggal Awal")</label>
                                            <input type="text" class="form-control" id="m_datepicker_1" autocomplete="off" name="startDate" onchange="myChangeFunction2(this)">
                                            <label for="inputEmail3" class="col-sm-3 col-form-label">&nbsp;@(en != null ? "End Date" : "Tanggal Akhir")</label>
                                            <input type="text" class="form-control" id="m_datepicker_1" autocomplete="off" name="endDate" onchange="myChangeFunction3(this)">
                                        </div>

                                        @* <div class="form-group">
                                        <input type="text" hidden value="1" class="form-control" name="delivery_type" id="delivery_type">
                                        <label for="password1">@(en != null ? "Delivery Type" : "Tipe Jenis Antaran")</label>
                                        <select class="form-control select2-selection__rendered" id="type_report"  name="type_report" required>
                                        <option value="">--@(en != null ? "Delivery Type" : "Pilih Tipe Jenis Antaran")--</option>

                                        @foreach (var item in ViewBag.DeliveryType)
                                        {
                                        <option value="@item.attributeValue">@item.value</option>
                                        }
                                        </select>
                                        </div>*@
                                        <div class="modal-footer border-top-0 d-flex justify-content-center">
                                            <div class="btn-group">
                                                <button type="submit" class="btn btn-primary" onClick="window.location.reload()">Submit</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <!--End::Main Portlet-->
            </div>
        </div>
    </div>
</div>

<link href="~/assets/datatablenew/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
<script src="~/assets/demo/demo2/new_theme/js/jquery-3.1.1.min.js" type="text/javascript"></script>
<script src="~/assets/datatablenew/jquery.dataTables.min.js" type="text/javascript"></script>
<!-- END: Body -->
<script type="text/javascript">
    //function myChangeFunction2(input2) {
    //    var input2 = document.getElementById('m_datepicker_1');
    //    datestart.value = input2.value;
    //}
    //function myChangeFunction3(input3) {
    //    var input22 = document.getElementById('m_datepicker_1');
    //    dateend.value = input3.value;
    //}
    $(document).ready(function () {
        const FROM_PATTERN = 'YYYY-MM-DD HH:mm:ss.SSS';
        const TO_PATTERN = 'DD/MM/YYYY HH:mm';
        var actionLink = '@Url.ActionLink("Delete","SettingUser")';
        $('#myTable').DataTable(
            
            {
                ajax: {
                    url: "GetDetailViewEKspedisiList",
                    type: "POST",
                },
                scrollY: true,
                scrollX: true,
                processing: true,
                serverSide: true,
                filter: true,
                columns: [
                    {
                        data: null,
                        sortable: false,
                        name: "nip",
                        render: function (data, type, row, meta) {
                            return meta.row + meta.settings._iDisplayStart + 1 ;
                        }
                        
                    },
                    { data: "nmrawb", name: "nmrawb" },
                    { data: "nmrreferen", name: "nmrreferen" },
                    { data: "tgl", name: "tgl" },
                    { data: "expedition_name", name: "expedition_name" },
                    { data: "sender_name", name: "sender_name" },
                    { data: "nip", name: "nip" },
                    { data: "unitname", name: "unitname" },
                    { data: "kodeunit", name: "kodeunit" },
                    { data: "letter_number", name: "letter_number" },
                    { data: "docReceiver", name: "docReceiver" },
                    { data: "phonenumber", name: "phonenumber" },
                    { data: "address", name: "address" },
                    { data: "purposename", name: "purposename" },
                    { data: "tgluntil", name: "tgluntil" },
                    { data: "statusname", name: "statusname" },
                    { data: "cretaeby", name: "cretaeby" },
                    { data: "updateby", name: "updateby" },
                    //{
                    //    data: null,
                    //    sortable: false,
                    //    name: "Iduser",
                    //    render: function (data, type, row, meta) {
                    //        var html = '<a class="btn btn-danger" href="' + actionLink + '/' + row.Iduser + '" style="line-height: 5px; color:white;">Delete</a>'
                    //        return html;
                    //    }
                    //},

                ]
            });
            
    });
    function myChangeFunction2(input2) {
        var input2 = document.getElementById('m_datepicker_1');
        datestart.value = input2.value;
    }
    function myChangeFunction3(input3) {
        var input22 = document.getElementById('m_datepicker_1');
        dateend.value = input3.value;
    }
</script>
<script type="text/javascript">
    $(function () {
        var selectedMonth = "M";
        $("[id*=positionid] option").each(function () {
            if ($(this).val() == selectedMonth) {
                $(this).attr('selected', 'selected');
            }
        });
    });
</script>